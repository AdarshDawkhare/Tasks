
<style>

    .Tasks-OuterContainer {
        height: 100%;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .Tasks-Box {
        height: 60%;
        width: 40%;
        border: 2px solid white;
        box-shadow: 0px 0px 25px 10px white;
        border-radius: 15px;
        padding: 2%;
        background-color: rgb(20, 33, 61);
    }

    .Tasks-Box:hover {
        z-index: 5;
    }

    .Tasks-Welcome {
        height: 10%;
        width: 100%;
        display: flex;
        flex-direction: row;
        align-items: center;
        font-size: 25px;
    }

    .Tasks-Form {
        height: 90%;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-evenly;
    }

    .form-group {
        width: 100%;
        height: 20%;
    }

    #Tasks-SignInDivGroup {
        width: 100%;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        gap: 5%;
    }

    #Tasks-RegisterInDivGroup
    {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
    }

</style>


<div class="Tasks-OuterContainer">

    <div class="Tasks-Box">

        <div class="Tasks-Welcome">
            Welcome
        </div>

        <div class="Tasks-Form">

            <div class="form-group">
                <input type="text" class="form-control" id="Tasks-Register-UserName" placeholder="Enter Your Name">
            </div>

            <div class="form-group">
                <input type="email" class="form-control" id="Tasks-Register-Email" placeholder="Enter Email">
            </div>

            <div class="form-group">
                <input type="number" class="form-control" id="Tasks-Register-Mobile" placeholder="Enter Mobile Number">
            </div>

            <div class="form-group">
                <input type="password" class="form-control" id="Tasks-Register-Password" placeholder="Enter Your Password" />
            </div>

            <div class="form-group">
                <input type="password" class="form-control" id="Tasks-Register-ConfirmPassword" placeholder="Confirm Password" />
            </div>

            <div class="form-group" id="Tasks-RegisterInDivGroup">
                <button class="btn btn-primary" id="Tasks-Register-register">Register</button>
            </div>

            <div class="form-group" id="Tasks-SignInDivGroup">
                <p>Already a member</p>
                <button class="btn btn-primary" id="Tasks-Register-signIn">Sign In</button>
            </div>

        </div>

    </div>
</div>





@section Scripts
{
    <script type="text/javascript">

        $(document).ready(function () {


            $("#Tasks-Register-signIn").click(function (event) {

                event.preventDefault();
                console.log("SignIn button clicked in _Register page");

                location.href = '@Url.Action("ReturnLoginView", "Home")';
            });
            

            $("#Tasks-Register-register").click(function (event) {

                event.preventDefault();
                console.log("Register button clicked on _Register page");

                let userName = document.querySelector("#Tasks-Register-UserName").value;
                let email = document.querySelector("#Tasks-Register-Email").value;
                let mobile = document.querySelector("#Tasks-Register-Mobile").value;
                let password = document.querySelector("#Tasks-Register-Password").value;
                let ConfirmPassword = document.querySelector("#Tasks-Register-ConfirmPassword").value;

                if (password !== ConfirmPassword)
                {
                    window.alert("password does not match with confirm password");

                    document.querySelector("#Tasks-Register-UserName").value = "";
                    document.querySelector("#Tasks-Register-Email").value = "";
                    document.querySelector("#Tasks-Register-Mobile").value = "";
                    document.querySelector("#Tasks-Register-Password").value = "";
                    document.querySelector("#Tasks-Register-ConfirmPassword").value = "";
                    return;
                }

                console.log("UserName - " + email);
                console.log("email - " + password);
                console.log("Mobile - " + email);
                console.log("password - " + password);

                $.ajax({
                    url: '@Url.Action("RegisterUser", "Auth")',
                    type: 'Post',
                    contentType: 'application/json',
                    data: JSON.stringify(
                    {                  
                         UserName: userName,
                         Email: email,
                         Mobile:mobile,
                         UserPassword: password,
                    }),
                    success: function (response) 
                    {
                        location.href = '@Url.Action("ReturnLoginView", "Home")';
                    },
                    error: function (xhr, status, error) {

                        if (xhr.status === 401) {
                            alert("Authentication failed. Please check your username and password.");
                        }
                        else {
                            alert("An error occurred. Please try again.");
                        }
                    }
                });
            });         

        });
    </script>
}